<div class="teams-container">
  <h1>Llista d'Equips</h1>
  
  <!-- Llista d'equips en mode targeta -->
  <div class="teams-list">
    <div *ngFor="let team of teams" class="team-card">
      <div class="team-header">
        <h3>{{ team.TeamName }}</h3>
      </div>
      <div class="team-body">
        <p><strong>Usuari:</strong> {{ team.UserName }}</p>
        <p><strong>Color de la Samarreta:</strong> {{ team.ShirtColor }}</p>
        <button (click)="deleteTeam(team.TeamID)">Eliminar</button>
      </div>
    </div>
  </div>

  <!-- Formulari per afegir un equip -->
  <h2>Afegir Equip</h2>
  <form (ngSubmit)="addTeam()" class="team-form">
    <div class="form-group">
      <label for="name">Nom de l'Equip:</label>
      <input
        id="name"
        type="text"
        [(ngModel)]="newTeam.name"
        name="name"
        placeholder="Introdueix el nom"
        required
      />
    </div>
    <div class="form-group">
      <label for="shirtColor">Color de la Samarreta:</label>
      <!-- Ara és un input de text per introduir el valor del color (ex: #4caf50) -->
      <input
        id="shirtColor"
        type="text"
        [(ngModel)]="newTeam.shirtColor"
        name="shirtColor"
        placeholder="EX: blau"
        required
      />
    </div>
    <div class="form-group">
      <label for="user">Usuari:</label>
      <select
        id="user"
        [(ngModel)]="newTeam.userId"
        name="userId"
        required
      >
        <option value="" disabled selected>Selecciona un usuari</option>
        <option *ngFor="let user of users" [value]="user.UserID">
          {{ user.UserName }}
        </option>
      </select>
    </div>
    <button type="submit">Afegir Equip</button>
  </form>

  <!-- Secció per assignar jugadors reservats a un equip -->
  <h2>Assignar Jugadors Comprats a un Equip</h2>
  <div class="assign-section">
    <div class="form-group">
      <label for="selectTeam">Selecciona Equip:</label>
      <select id="selectTeam" [(ngModel)]="selectedTeamId" name="selectedTeamId">
        <option value="" disabled selected>Selecciona un equip</option>
        <option *ngFor="let team of teams" [value]="team.TeamID">
          {{ team.TeamName }}
        </option>
      </select>
    </div>
    <div class="form-group">
      <label for="selectPlayer">Selecciona Jugador Reservat:</label>
      <select id="selectPlayer" [(ngModel)]="selectedPlayerId" name="selectedPlayerId">
        <option value="" disabled selected>Selecciona un jugador reservat</option>
        <option *ngFor="let player of reservedPlayers" [value]="player.PlayerID">
          {{ player.PlayerName }} - {{ player.Position }}
        </option>
      </select>
    </div>
    <button (click)="assignPlayerToTeam()">Assignar Jugador</button>
  </div>
</div>
